{
  "title": "Chart API",
  "language": "en",
  "tags": [
    "javascript",
    "api",
    "frappe",
    "chart_api"
  ],
  "items": [
    {
      "description": "Create a RealtimeChart instance",
      "code": "new frappe.ui.RealtimeChart(dom_element, event_name, max_labels, data)",
      "example": "const chart_div = document.getElementById('chart');\nconst chart = new frappe.ui.RealtimeChart(chart_div, 'my_event', 15, data);"
    },
    {
      "description": "Initialize chart with data",
      "code": "const data = { datasets: [{ name: 'Some Data', values: [] }] };",
      "example": "const data = {\n  labels: ['t-5', 't-4', 't-3'],\n  datasets: [{\n    name: 'CPU Usage',\n    values: [10, 15, 12]\n  }]\n};"
    },
    {
      "description": "Start updating the chart with a socket event",
      "code": "chart.start_updating();",
      "example": "// Assuming 'chart' is a RealtimeChart instance\nchart.start_updating();\n// The chart will now listen for the 'my_event' event"
    },
    {
      "description": "Publish real-time data from Python",
      "code": "frappe.publish_realtime('event_name', { label: 'Label', points: [10] })",
      "example": "# In a Python method\nimport frappe\nfrappe.publish_realtime('my_event', {'label': '10:30', 'points': [55]})"
    }
  ],
  "created": "2025-09-26",
  "updated": "2025-10-01"
}
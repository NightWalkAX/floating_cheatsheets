{
  "title": "Full Text Search API (Frappe)",
  "language": "en",
  "tags": ["search", "whoosh", "frappe", "python", "full-text-search"],
  "items": [
    {
      "code": "frappe.utils.full_text_search.update_index_by_name(doctype, docname)",
      "description": "Updates the search index for a specific document.",
      "example": "# In a DocType's on_update event\ndef on_update(self, method):\n    frappe.utils.full_text_search.update_index_by_name('Help Article', self.name)"
    },
    {
      "code": "frappe.utils.full_text_search.remove_document_from_index(doc_name)",
      "description": "Removes a document from the search index (used in `on_trash`).",
      "example": "# In a DocType's on_trash event\ndef on_trash(self, method):\n    frappe.utils.full_text_search.remove_document_from_index(self.name)"
    },
    {
      "code": "frappe.utils.full_text_search.search(query, scope, limit)",
      "description": "Performs a search on the index.",
      "example": "from frappe.utils.full_text_search import search\n\nresults = search('install erpnext')\n# results is a list of dicts with 'title', 'path', 'content'"
    },
    {
      "code": "frappe.utils.full_text_search.build_index_for_all_docs()",
      "description": "Builds (or rebuilds) the index for all documents from the configured DocTypes.",
      "example": "# Can be run from the bench console\n# bench --site [sitename] execute frappe.utils.full_text_search.build_index_for_all_docs"
    },
    {
      "description": "Configure DocTypes for search in `hooks.py`.",
      "code": "# In your app's hooks.py file",
      "example": "\"website_search_config\": {\n    \"Help Article\": {\"title\": \"title\", \"content\": \"content\", \"route\": \"kb\"}\n}"
    }
  ],
  "created": "2025-09-27",
  "updated": "2025-10-01"
}
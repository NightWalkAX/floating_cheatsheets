{
  "title": "Query Builder SQL (MariaDB)",
  "language": "es",
  "tags": ["sql", "mariadb", "query builder", "python", "frappe", "pypika"],
  "items": [
    {
      "code": "frappe.qb.from_('Customer').select('id', 'fname', 'lname', 'phone')",
      "description": "Consulta SELECT básica usando el query builder",
      "example": "SELECT `id`,`fname`,`lname`,`phone` FROM `tabCustomer`"
    },
    {
      "code": "frappe.qb.DocType('Customer')",
      "description": "Obtiene el objeto tabla para construir consultas",
      "example": "customers = frappe.qb.DocType('Customer')"
    },
    {
      "code": "where((customers.fname == 'Max') | (customers.id.like('RA%')) )",
      "description": "Condiciones OR y LIKE en consultas",
      "example": "WHERE (`fname`='Max' OR `id` LIKE 'RA%')"
    },
    {
      "code": "str(query) o query.get_sql()",
      "description": "Obtener la consulta SQL generada",
      "example": "str(query) == query.get_sql()"
    },
    {
      "code": "run(debug=True), run(as_dict=True)",
      "description": "Ejecutar la consulta y obtener resultados en diferentes formatos",
      "example": "frappe.qb.from_('ToDo').select('name').run(as_dict=True)"
    },
    {
      "code": "from frappe.query_builder.functions import Count",
      "description": "Funciones agregadas como Count()",
      "example": "Count(Notes.content).as_('Pages')"
    },
    {
      "code": "CustomFunction('DATE_DIFF', ['interval', 'start_date', 'end_date'])",
      "description": "Definir funciones SQL personalizadas",
      "example": "DateDiff('day', customers.created_date, customers.updated_date)"
    },
    {
      "code": "ConstantColumn('valor').as_('columna')",
      "description": "Definir columnas constantes en la consulta",
      "example": "ConstantColumn('john').as_('user')"
    },
    {
      "code": "Match('columna').Against('texto')",
      "description": "Búsqueda de texto con MATCH AGAINST",
      "example": "MATCH('Coloum name') AGAINST ('+Some_text_match*' IN BOOLEAN MODE)"
    }
  ],
  "created": "2025-09-27",
  "updated": "2025-09-27"
}
{
  "title": "API de Búsqueda de Texto Completo (Frappe)",
  "language": "es",
  "tags": ["search", "whoosh", "frappe", "python", "full-text-search"],
  "items": [
    {
      "code": "frappe.utils.full_text_search.update_index_by_name(doctype, docname)",
      "description": "Actualiza el índice de búsqueda para un documento específico.",
      "example": "# En el evento on_update de un DocType\ndef on_update(self, method):\n    frappe.utils.full_text_search.update_index_by_name('Help Article', self.name)"
    },
    {
      "code": "frappe.utils.full_text_search.remove_document_from_index(doc_name)",
      "description": "Elimina un documento del índice de búsqueda (usado en `on_trash`).",
      "example": "# En el evento on_trash de un DocType\ndef on_trash(self, method):\n    frappe.utils.full_text_search.remove_document_from_index(self.name)"
    },
    {
      "code": "frappe.utils.full_text_search.search(query, scope, limit)",
      "description": "Realiza una búsqueda en el índice.",
      "example": "from frappe.utils.full_text_search import search\n\nresults = search('instalar erpnext')\n# results es una lista de diccionarios con 'title', 'path', 'content'"
    },
    {
      "code": "frappe.utils.full_text_search.build_index_for_all_docs()",
      "description": "Construye (o reconstruye) el índice para todos los documentos de los DocTypes configurados.",
      "example": "# Se puede ejecutar desde la consola bench\n# bench --site [sitename] execute frappe.utils.full_text_search.build_index_for_all_docs"
    },
    {
      "description": "Configurar DocTypes para búsqueda en `hooks.py`.",
      "code": "# En el archivo hooks.py de tu aplicación",
      "example": "\"website_search_config\": {\n    \"Help Article\": {\"title\": \"title\", \"content\": \"content\", \"route\": \"kb\"}\n}"
    }
  ],
  "created": "2025-09-27",
  "updated": "2025-10-01"
}